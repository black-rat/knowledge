<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>首页</title>
    <script src="${rc.contextPath}/static/util/js/jquery-3.3.1.min.js"></script>
    <link href="${rc.contextPath}/static/util/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="${rc.contextPath}/static/util/css/bootstrap-treeview.css" rel="stylesheet"/>
	<script src="${rc.contextPath}/static/util/js/bootstrap.min.js"></script>
	<script src="${rc.contextPath}/static/util/js/bootstrapValidator.js"></script>
	<script src="${rc.contextPath}/static/util/js/bootstrap-treeview.js"></script>
 <script type="text/javascript">
 $(function () {
     $.ajax({
         type: "Post",
         url: "${rc.contextPath}/login/menu",
         dataType:"text",
         success: function (data) {
        	 var tree =  eval('['+data+']');                
             $('#tree').treeview({
                 data: tree,         // 数据源
                 showCheckbox: true,   //是否显示复选框
                 highlightSelected: true,    //是否高亮选中
                 //nodeIcon: 'glyphicon glyphicon-user',    //节点上的图标
                 nodeIcon: 'glyphicon glyphicon-globe',
                 emptyIcon: '',    //没有子节点的节点图标
                 multiSelect: false,    //多选
                 onNodeChecked: function (event,data) {
                     alert(data.nodeId);
                 },
                 onNodeSelected: function (event, data) {
                     alert(data.nodeId);
                 }
             });
         },
         error: function (XMLHttpRequest, textStatus, errorThrown) {
        	 alert(XMLHttpRequest.status);
             alert(XMLHttpRequest.readyState);
             alert(textStatus);
             alert("树形结构加载失败！")
         }
     });
 })
</script>
</head>
<body>
<!--     <div id="wrapper">
        <nav class="navbar navbar-default navbar-cls-top " role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <a class="navbar-brand" href="#">首页</a>
            </div>

            <div class="header-right">
                <a href="${rc.contextPath}/login/loginout" class="btn btn-danger" title="退出"><i class="fa fa-exclamation-circle fa-2x"></i></a>
            </div>
        </nav>
        登录信息
        <nav class="navbar-default navbar-side" role="navigation">
            <div class="sidebar-collapse">
                <ul class="nav" id="main-menu">
                    <li>
                        <div class="user-img-div">
                            <img src="${rc.contextPath}/static/assets/img/user.png" class="img-thumbnail" />
                            <div class="inner-text">
                                ${user.username}
                            <br/>
                                <small>Last Login : 2 Weeks Ago </small>
                            </div>
                        </div>
                    </li>
                </ul>
                 
            </div>
            <div id="tree" class="col-sm-2"></div>
        </nav>
        <div id="page-wrapper">
          
        </div>
       </div> -->
       <div id="tree" class="col-sm-2"></div>
</body>
</html>
